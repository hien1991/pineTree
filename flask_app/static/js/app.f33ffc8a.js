(function(){"use strict";var e={1001:function(e,s,t){var i=t(9242),n=t(3396);const a={id:"app"},o={class:"top-nav"},l={key:0,class:"guide-modal"},r={class:"guide-modal-content"},c=(0,n._)("h2",null,"Welcome to PineChat!",-1),d=(0,n._)("p",null,"Before you can start using the app, please enter the required API keys in the settings.",-1);function p(e,s,t,i,p,u){const h=(0,n.up)("router-link"),g=(0,n.up)("router-view"),y=(0,n.up)("SettingsModal"),m=(0,n.up)("error-modal");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n._)("nav",o,[(0,n.Wm)(h,{to:"/"},{default:(0,n.w5)((()=>[(0,n.Uk)("Home")])),_:1}),(0,n.Wm)(h,{to:"/pinedocs"},{default:(0,n.w5)((()=>[(0,n.Uk)("PineDocs")])),_:1}),(0,n._)("button",{onClick:s[0]||(s[0]=(...e)=>u.toggleDbResults&&u.toggleDbResults(...e))},"Show Datababase Returns"),(0,n._)("button",{onClick:s[1]||(s[1]=(...e)=>u.showSettings&&u.showSettings(...e))},"Settings")]),(0,n.Wm)(g,{dbResultsVisible:p.dbResultsVisible},null,8,["dbResultsVisible"]),p.showGuideModal?((0,n.wg)(),(0,n.iD)("div",l,[(0,n._)("div",r,[c,d,(0,n._)("button",{onClick:s[2]||(s[2]=(...e)=>u.hideGuideModalAndShowSettings&&u.hideGuideModalAndShowSettings(...e))},"Go to Settings")])])):(0,n.kq)("",!0),p.settingsVisible?((0,n.wg)(),(0,n.j4)(y,{key:1,onClose:u.showSettings,onApiKeysUpdated:u.initializeBackend},null,8,["onClose","onApiKeysUpdated"])):(0,n.kq)("",!0),(0,n.Wm)(m,{visible:!!p.errorMessage,message:p.errorMessage,onDismiss:u.dismissError},null,8,["visible","message","onDismiss"])])}var u=t(7139);const h=e=>((0,n.dD)("data-v-305e4e78"),e=e(),(0,n.Cn)(),e),g={class:"settings-modal"},y={class:"settings-modal-content"},m=h((()=>(0,n._)("h2",null,"Settings",-1))),f=h((()=>(0,n._)("label",{for:"openai-api-key"},"OpenAI API Key:",-1))),v=h((()=>(0,n._)("label",{for:"pinecone-api-key"},"Pinecone API Key:",-1))),b=h((()=>(0,n._)("label",{for:"pinecone-api-key"},"Pinecone env:",-1))),w={class:"model-toggle-container"},_={class:"switch"},K=["checked"],k=h((()=>(0,n._)("span",{class:"slider round"},null,-1))),C=["disabled"];function M(e,s,t,a,o,l){return(0,n.wg)(),(0,n.iD)("div",g,[(0,n._)("div",y,[m,f,(0,n.wy)((0,n._)("input",{type:"text",id:"openai-api-key","onUpdate:modelValue":s[0]||(s[0]=e=>l.openaiApiKey=e)},null,512),[[i.nr,l.openaiApiKey]]),v,(0,n.wy)((0,n._)("input",{type:"text",id:"pinecone-api-key","onUpdate:modelValue":s[1]||(s[1]=e=>l.pineconeApiKey=e)},null,512),[[i.nr,l.pineconeApiKey]]),b,(0,n.wy)((0,n._)("input",{type:"text",id:"pinecone-env-key","onUpdate:modelValue":s[2]||(s[2]=e=>l.pineconeEnvKey=e)},null,512),[[i.nr,l.pineconeEnvKey]]),(0,n._)("label",w,[(0,n.Uk)("GPT-4: "),(0,n._)("div",_,[(0,n._)("input",{type:"checkbox",id:"model-selection",checked:l.useGpt4Key,onInput:s[3]||(s[3]=(...e)=>l.onUseGpt4KeyChange&&l.onUseGpt4KeyChange(...e)),ref:"modelSelection"},null,40,K),k])]),(0,n._)("button",{onClick:s[4]||(s[4]=(...e)=>l.saveKeys&&l.saveKeys(...e)),disabled:o.submitDisabled,class:"save-button"},"Save",8,C),(0,n._)("button",{onClick:s[5]||(s[5]=s=>e.$emit("close")),class:"close-button"},"Close"),(0,n._)("p",{class:(0,u.C_)(o.displayMessageClass)},(0,u.zw)(o.displayMessage),3)])])}var D=t(65),A=t(4161),S={name:"SettingsModal",data(){return{displayMessage:"",displayMessageClass:"success-message",submitDisabled:!1}},computed:{...(0,D.Se)(["getPineconeApiKey","getPineconeEnvKey","getOpenaiApiKey","getUseGpt4Key"]),pineconeApiKey:{get(){return this.getPineconeApiKey},set(e){this.updatePineconeApiKey(e)}},pineconeEnvKey:{get(){return this.getPineconeEnvKey},set(e){this.updatePineconeEnvKey(e)}},openaiApiKey:{get(){return this.getOpenaiApiKey},set(e){this.updateOpenaiApiKey(e)}},useGpt4Key:{get(){return this.getUseGpt4Key},set(e){this.updateUseGpt4Key(e)}}},emits:["close","api-keys-updated"],methods:{...(0,D.nv)(["updatePineconeApiKey","updatePineconeEnvKey","updateOpenaiApiKey","updateUseGpt4Key"]),saveKeys(){this.$emit("api-keys-updated"),this.displayMessageClass="success-message",this.displayMessage="API keys saved successfully!",setTimeout((()=>{this.displayMessage="",this.$emit("close")}),1500)},onUseGpt4KeyChange(e){e.target.checked?(this.submitDisabled=!0,this.displayMessageClass="success-message",this.displayMessage="Checking GPT-4 availability...",this.checkGpt4Access().then((e=>{e?(this.updateUseGpt4Key(!0),this.displayMessage="GPT-4 check confirmed."):(this.$refs.modelSelection.checked=!1,this.displayMessageClass="error-message",this.displayMessage="We're sorry, but it seems you don't have GPT-4 access.")})).catch((e=>{console.error(e),this.displayMessage="An error occurred while checking GPT-4 access."})).finally((()=>{this.submitDisabled=!1}))):(this.updateUseGpt4Key(!1),this.displayMessage="")},async checkGpt4Access(){const e=this.openaiApiKey,s="gpt-4";return A.Z.get(`https://api.openai.com/v1/models/${s}`,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}}).then((e=>!(200!==e.status||!e.data||e.data.id!==s))).catch((e=>(console.error(e),!1)))}}},I=t(89);const P=(0,I.Z)(S,[["render",M],["__scopeId","data-v-305e4e78"]]);var G=P;const T={key:0,class:"error-modal"},E={class:"error-modal-content"},U=(0,n._)("h3",null,"Error",-1);function $(e,s,t,i,a,o){return t.visible?((0,n.wg)(),(0,n.iD)("div",T,[(0,n._)("div",E,[U,(0,n._)("p",null,(0,u.zw)(t.message),1),(0,n._)("button",{onClick:s[0]||(s[0]=s=>e.$emit("dismiss"))},"OK")])])):(0,n.kq)("",!0)}var R={props:{message:{type:String,default:""},visible:{type:Boolean,default:!1}}};const x=(0,I.Z)(R,[["render",$]]);var V=x,z={name:"App",components:{SettingsModal:G,ErrorModal:V},data(){return{settingsVisible:!1,showGuideModal:!1,dbResultsVisible:!1,errorMessage:""}},methods:{showSettings(){this.settingsVisible=!this.settingsVisible},toggleDbResults(){this.dbResultsVisible=!this.dbResultsVisible},hideGuideModalAndShowSettings(){this.showGuideModal=!1,this.showSettings()},dismissError(){this.errorMessage=""},async initializeBackend(){const e=localStorage.getItem("openaiApiKey"),s=localStorage.getItem("pineconeApiKey"),t=localStorage.getItem("pineconeEnvKey"),i="true"===localStorage.getItem("useGpt4Key");if(e&&s&&t)try{const n=await A.Z.post(`${this.$apiUrl}/initialize`,{openaiApiKey:e,pineconeApiKey:s,pineconeEnvKey:t,useGpt4Key:i});"error"===n.data.status&&this.$emit("error",n.data.message)}catch(n){const e=n.response&&n.response.data&&n.response.data.message;this.errorMessage=e?`An error occurred while initializing the backend: ${e}`:"An error occurred while initializing the backend: "+n}}},mounted(){this.initializeBackend();const e=localStorage.getItem("openaiApiKey"),s=localStorage.getItem("pineconeApiKey"),t=localStorage.getItem("pineconeEnvKey");e&&s&&t||(this.showGuideModal=!0)}};const O=(0,I.Z)(z,[["render",p]]);var F=O,H=t(678);const W={class:"chat-view"};function Z(e,s,t,i,a,o){const l=(0,n.up)("ChatWindow");return(0,n.wg)(),(0,n.iD)("div",W,[(0,n.Wm)(l,{dbResultsVisible:t.dbResultsVisible},null,8,["dbResultsVisible"])])}const j=e=>((0,n.dD)("data-v-063d8df4"),e=e(),(0,n.Cn)(),e),B={class:"chat-container"},Q=j((()=>(0,n._)("div",{class:"chat-header"},[(0,n._)("h1",null,"PineChat")],-1))),q={class:"chat-window"},L={class:"chat-messages",ref:"chatMessages"},N=j((()=>(0,n._)("div",{class:"spacer"},null,-1))),Y={class:"message-bubble"},X={class:"input-area"};function J(e,s,t,i,a,o){const l=(0,n.up)("TypingLoader"),r=(0,n.up)("ChatInput"),c=(0,n.up)("UploadButton"),d=(0,n.up)("DbResults");return(0,n.wg)(),(0,n.iD)("div",B,[Q,(0,n._)("div",q,[(0,n._)("div",L,[N,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.getChatMessages.slice().reverse(),((e,s)=>((0,n.wg)(),(0,n.iD)("div",{key:s,class:(0,u.C_)(["message",e.type])},[(0,n._)("div",Y,(0,u.zw)(e.text),1),a.isTyping&&0===s?((0,n.wg)(),(0,n.j4)(l,{key:0})):(0,n.kq)("",!0)],2)))),128))],512),(0,n._)("button",{class:"scroll-down",onClick:s[0]||(s[0]=(...e)=>o.scrollToBottom&&o.scrollToBottom(...e))},"â†“")]),(0,n._)("div",X,[(0,n.Wm)(r,{ref:"chatInputComponent",class:"chat-input-component",onSend:o.submitMessage,"is-submitting":a.isTyping},null,8,["onSend","is-submitting"]),(0,n.Wm)(c)]),(0,n._)("div",{class:"db-results-wrapper",style:(0,u.j5)({display:t.dbResultsVisible?"block":"none"})},[t.dbResultsVisible?((0,n.wg)(),(0,n.j4)(d,{key:0,results:a.searchResults,searchQueryDisplay:a.searchQueryDisplay},null,8,["results","searchQueryDisplay"])):(0,n.kq)("",!0)],4)])}const ee=e=>((0,n.dD)("data-v-4acc7736"),e=e(),(0,n.Cn)(),e),se={class:"database-results"},te={key:0,class:"search-query-display"},ie=ee((()=>(0,n._)("strong",null,"Database Query:",-1))),ne={class:"search-controls"},ae={class:"results-list"},oe=["onClick"],le={class:"timestamp"},re={class:"source"},ce={class:"result-content"},de=ee((()=>(0,n._)("div",{class:"pagination"},null,-1)));function pe(e,s,t,a,o,l){return(0,n.wg)(),(0,n.iD)("div",se,[t.searchQueryDisplay?((0,n.wg)(),(0,n.iD)("div",te,[ie,(0,n.Uk)(' "'+(0,u.zw)(t.searchQueryDisplay)+'" ',1)])):(0,n.kq)("",!0),(0,n._)("div",ne,[(0,n.wy)((0,n._)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>o.searchQuery=e),onInput:s[1]||(s[1]=(...e)=>l.filterResults&&l.filterResults(...e)),placeholder:"Search..."},null,544),[[i.nr,o.searchQuery]])]),(0,n._)("div",ae,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.filteredResults,((e,s)=>((0,n.wg)(),(0,n.iD)("div",{key:s,class:"result-card"},[(0,n._)("div",{class:"result-header",onClick:e=>l.toggleCollapse(s)},[(0,n._)("h2",null,(0,u.zw)(e.title),1),(0,n._)("span",le,(0,u.zw)(e.timestamp),1),(0,n._)("span",re,(0,u.zw)(e.source),1)],8,oe),(0,n.wy)((0,n._)("div",ce,[(0,n._)("p",null,(0,u.zw)(e.text),1)],512),[[i.F8,!e.collapsed]])])))),128))]),de])}var ue={name:"DbResults",props:{results:{type:Array,default:()=>[]},searchQueryDisplay:{type:String,default:""}},data(){return{searchQuery:"",filteredResults:[]}},watch:{results:{immediate:!0,handler(){this.filteredResults=this.results.map((e=>({...e,collapsed:!1})))}}},methods:{toggleCollapse(e){this.filteredResults[e].collapsed=!this.filteredResults[e].collapsed},filterResults(){const e=this.searchQuery.toLowerCase();this.filteredResults=this.results.filter((s=>s.title.toLowerCase().includes(e)||s.text&&s.text.toLowerCase().includes(e)))}}};const he=(0,I.Z)(ue,[["render",pe],["__scopeId","data-v-4acc7736"]]);var ge=he,ye=t.p+"img/upload-icon.5db7b317.png";const me=e=>((0,n.dD)("data-v-28147140"),e=e(),(0,n.Cn)(),e),fe={class:"upload-wrapper"},ve=me((()=>(0,n._)("img",{src:ye,alt:"Uploads Icon"},null,-1))),be=[ve],we={key:1,class:"upload-status"},_e=me((()=>(0,n._)("div",{class:"spinner"},null,-1))),Ke={class:"tooltip"};function ke(e,s,t,i,a,o){return(0,n.wg)(),(0,n.iD)("div",fe,[(0,n._)("input",{type:"file",ref:"fileInput",onChange:s[0]||(s[0]=(...e)=>o.uploadFile&&o.uploadFile(...e)),style:{display:"none"}},null,544),a.uploading?((0,n.wg)(),(0,n.iD)("div",we,[_e,(0,n._)("div",Ke,(0,u.zw)(this.$refs.fileInput.files[0]?.name),1)])):((0,n.wg)(),(0,n.iD)("button",{key:0,class:"upload-button",onClick:s[1]||(s[1]=(...e)=>o.openFileChooser&&o.openFileChooser(...e))},be))])}var Ce={name:"UploadButton",data(){return{uploading:!1}},methods:{openFileChooser(){this.$refs.fileInput.click()},async uploadFile(){this.uploading=!0;const e=new FormData;e.append("file",this.$refs.fileInput.files[0]);try{const s=await A.Z.post(`${this.$apiUrl}/upload`,e,{headers:{"Content-Type":"multipart/form-data"}});this.$emit("upload-success"),console.log(s.data)}catch(s){console.error("Error uploading file:",s)}finally{this.uploading=!1}}}};const Me=(0,I.Z)(Ce,[["render",ke],["__scopeId","data-v-28147140"]]);var De=Me,Ae=t.p+"img/send-icon.b32bfd02.png";const Se=e=>((0,n.dD)("data-v-37e23d2e"),e=e(),(0,n.Cn)(),e),Ie={class:"chat-input"},Pe={class:"input-container"},Ge=["disabled"],Te=["disabled"],Ee=Se((()=>(0,n._)("img",{src:Ae,alt:"Submit"},null,-1))),Ue=[Ee];function $e(e,s,t,a,o,l){return(0,n.wg)(),(0,n.iD)("div",Ie,[(0,n._)("div",Pe,[(0,n.wy)((0,n._)("textarea",{ref:"textarea","onUpdate:modelValue":s[0]||(s[0]=e=>o.message=e),onKeydown:s[1]||(s[1]=(0,i.D2)((e=>l.handleKeyDown(e)),["enter"])),onInput:s[2]||(s[2]=(...e)=>l.resizeTextArea&&l.resizeTextArea(...e)),placeholder:"Type your message",class:"chat-textarea",disabled:o.isSubmitting,onReset:s[3]||(s[3]=e=>o.isSubmitting=!1)},null,40,Ge),[[i.nr,o.message]]),(0,n._)("button",{class:"submit-button",onClick:s[4]||(s[4]=e=>l.sendMessage(e)),disabled:o.isSubmitting},Ue,8,Te)])])}var Re={data(){return{message:"",isSubmitting:!1,MIN_HEIGHT:36,MAX_HEIGHT:100}},methods:{sendMessage(e){e&&e.shiftKey?e.stopPropagation():(this.isSubmitting=!0,this.$emit("send",this.message,e),this.message="",this.resetTextAreaSize(),e.preventDefault())},handleKeyDown(e){"Enter"===e.key&&(e.shiftKey?e.stopPropagation():this.sendMessage(e))},resetTextAreaSize(){let e=this.$refs.textarea;e.style.height=`${this.MIN_HEIGHT}px`},resizeTextArea(){this.$nextTick((()=>{let e=this.$refs.textarea;e.style.height="auto";const s=this.MAX_HEIGHT,t=this.MIN_HEIGHT;let i=e.scrollHeight<=60?t:Math.min(.8*e.scrollHeight,s);e.style.height=`${i}px`,e.style.overflowY=i===s?"scroll":"hidden"}))},reset(){this.isSubmitting=!1}}};const xe=(0,I.Z)(Re,[["render",$e],["__scopeId","data-v-37e23d2e"]]);var Ve=xe;const ze=e=>((0,n.dD)("data-v-2e3824f7"),e=e(),(0,n.Cn)(),e),Oe={class:"typing-indicator"},Fe=ze((()=>(0,n._)("span",{class:"dot"},null,-1))),He=ze((()=>(0,n._)("span",{class:"dot"},null,-1))),We=ze((()=>(0,n._)("span",{class:"dot"},null,-1))),Ze=[Fe,He,We];function je(e,s,t,i,a,o){return(0,n.wg)(),(0,n.iD)("div",Oe,Ze)}var Be={name:"TypingLoader"};const Qe=(0,I.Z)(Be,[["render",je],["__scopeId","data-v-2e3824f7"]]);var qe=Qe,Le={name:"ChatWindow",components:{DbResults:ge,UploadButton:De,TypingLoader:qe,ChatInput:Ve},data(){return{isTyping:!1,searchResults:[],searchQueryDisplay:""}},props:{dbResultsVisible:{type:Boolean,default:!1}},computed:{...(0,D.Se)(["getChatMessages"])},methods:{...(0,D.nv)(["addChatMessage"]),scrollToBottom(){this.$nextTick((()=>{let e=this.$refs.chatMessages.scrollHeight;window.scrollTo(0,e)}))},async submitMessage(e){if(e.trim()){this.addChatMessage({type:"user",text:e}),this.isTyping=!0;try{const s=await A.Z.post(`${this.$apiUrl}/chat`,{input_text:e});if("error"===s.data.status)this.addChatMessage({type:"error",text:s.data.message});else{const e=s.data.response;this.searchResults=s.data.search_results,this.searchQueryDisplay=s.data.db_query;const t=e;this.addChatMessage({type:"bot",text:t})}}catch(s){console.error(s),this.addChatMessage({type:"error",text:"An error occurred while sending your message."})}finally{this.isTyping=!1,this.$nextTick((()=>{this.$refs.chatInputComponent.reset()}))}}}}};const Ne=(0,I.Z)(Le,[["render",J],["__scopeId","data-v-063d8df4"]]);var Ye=Ne,Xe={name:"ChatView",components:{ChatWindow:Ye},props:{dbResultsVisible:{type:Boolean,default:!1}}};const Je=(0,I.Z)(Xe,[["render",Z],["__scopeId","data-v-5bcf1ef2"]]);var es=Je;const ss={class:"pine-docs-view"};function ts(e,s,t,i,a,o){const l=(0,n.up)("PineDocs");return(0,n.wg)(),(0,n.iD)("div",ss,[(0,n.Wm)(l)])}const is=e=>((0,n.dD)("data-v-8bc569d0"),e=e(),(0,n.Cn)(),e),ns={class:"pinedocs"},as={class:"header"},os={class:"file-grid"},ls=["onClick"],rs={class:"file-info"},cs={class:"file-options"},ds=["onClick"],ps={key:0,class:"checkmark"},us={class:"ai-response"},hs=is((()=>(0,n._)("h2",null,"AI Response:",-1))),gs={key:0};function ys(e,s,t,a,o,l){const r=(0,n.up)("upload-button"),c=(0,n.up)("TypingLoader"),d=(0,n.up)("ChatInput"),p=(0,n.up)("error-modal");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",ns,[(0,n._)("div",as,[(0,n.Wm)(r,{onUploadSuccess:l.fetchFiles},null,8,["onUploadSuccess"]),(0,n._)("button",{onClick:s[0]||(s[0]=(...e)=>l.handleNewDoc&&l.handleNewDoc(...e))},"New Doc")]),(0,n._)("div",os,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(o.files,(e=>((0,n.wg)(),(0,n.iD)("div",{key:e.id,onClick:s=>l.handleSelect(e.name),class:(0,u.C_)([{selected:o.selectedFiles.includes(e.name)},"file-card"])},[(0,n._)("div",rs,[(0,n._)("h3",null,(0,u.zw)(e.name),1),(0,n._)("p",null,"Uploaded: "+(0,u.zw)(e.uploadedDate),1),(0,n._)("p",null,"Size: "+(0,u.zw)(e.size),1),(0,n._)("p",null,"Chunks: "+(0,u.zw)(e.chunks),1)]),(0,n._)("div",cs,[(0,n._)("button",{onClick:(0,i.iM)((s=>l.handleDelete(e.id)),["stop"])},"Delete",8,ds),o.selectedFiles.includes(e.id)?((0,n.wg)(),(0,n.iD)("div",ps,"âœ“")):(0,n.kq)("",!0)])],10,ls)))),128))]),(0,n._)("div",us,[hs,o.isProcessing?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("p",gs,(0,u.zw)(o.aiResponse),1)),o.isProcessing?((0,n.wg)(),(0,n.j4)(c,{key:1})):(0,n.kq)("",!0)]),(0,n.Wm)(d,{ref:"chatInputComponent",onSend:l.handleSend},null,8,["onSend"])]),(0,n.Wm)(p,{visible:o.errorModalVisible,message:o.errorMessage,onDismiss:l.dismissError},null,8,["visible","message","onDismiss"])],64)}t(7658);var ms={name:"PineDocs",components:{ErrorModal:V,UploadButton:De,ChatInput:Ve,TypingLoader:qe},data(){return{files:[],selectedFiles:[],errorMessage:"",errorModalVisible:!1,aiResponse:"",isProcessing:!1}},methods:{async fetchFiles(){try{const e=await fetch(`${this.$apiUrl}/get_all_uploads`),s=await e.json();if(s.error)return this.errorMessage=s.error,this.errorModalVisible=!0,void console.error("Error fetching uploaded files:",s.error);this.files=s.map((e=>({id:e.id,name:e.filename,uploadedDate:e.timestamp,size:e.file_size,chunks:e.num_chunks})))}catch(e){this.errorMessage="Error fetching uploaded files",this.errorModalVisible=!0,console.error("Error fetching uploaded files:",e)}},handleSelect(e){const s=this.selectedFiles.indexOf(e);-1===s?this.selectedFiles.push(e):this.selectedFiles.splice(s,1),console.log("Selected files:",this.selectedFiles)},async handleDelete(e){const s=confirm("Are you sure you want to delete this file?");if(s)try{const s=this.files.find((s=>s.id===e)),t=await fetch(`${this.$apiUrl}/delete_file`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({filename:s.name})}),i=await t.json();"success"===i.status?this.fetchFiles():(this.errorMessage=i.message,this.errorModalVisible=!0)}catch(t){this.errorMessage="Error deleting file",this.errorModalVisible=!0,console.error("Error deleting file:",t)}},handleNewDoc(){},async handleSend(e,s){if(s&&s.shiftKey)s.stopPropagation();else{this.$refs.chatInputComponent.isSubmitting=!0,this.isProcessing=!0;try{const s=await A.Z.post(`${this.$apiUrl}/chat_with_files`,{filenames:this.selectedFiles,input_text:e});this.aiResponse=s.data.response,console.log(s.data)}catch(t){console.error(t)}finally{this.$refs.chatInputComponent.isSubmitting=!1,this.isProcessing=!1}}},dismissError(){this.errorMessage="",this.errorModalVisible=!1}},mounted(){this.fetchFiles()}};const fs=(0,I.Z)(ms,[["render",ys],["__scopeId","data-v-8bc569d0"]]);var vs=fs,bs={name:"PineDocsView",components:{PineDocs:vs}};const ws=(0,I.Z)(bs,[["render",ts],["__scopeId","data-v-a4bc064a"]]);var _s=ws;const Ks=[{path:"/",component:es},{path:"/pinedocs",component:_s}],ks=(0,H.p7)({history:(0,H.r5)(),routes:Ks});var Cs=ks;const Ms={pineconeApiKey:localStorage.getItem("pineconeApiKey")||"",pineconeEnvKey:localStorage.getItem("pineconeEnvKey")||"",openaiApiKey:localStorage.getItem("openaiApiKey")||"",useGpt4Key:"true"===localStorage.getItem("useGpt4Key")||!1,chatMessages:[]};var Ds=(0,D.MT)({state:Ms,mutations:{setPineconeApiKey(e,s){e.pineconeApiKey=s},setOpenaiApiKey(e,s){e.openaiApiKey=s},setPineconeEnvKey(e,s){e.pineconeEnvKey=s},setUseGpt4Key(e,s){e.useGpt4Key=s},addChatMessage(e,s){e.chatMessages.push(s)}},actions:{updatePineconeApiKey({commit:e},s){e("setPineconeApiKey",s),localStorage.setItem("pineconeApiKey",s)},updateOpenaiApiKey({commit:e},s){e("setOpenaiApiKey",s),localStorage.setItem("openaiApiKey",s)},updatePineconeEnvKey({commit:e},s){e("setPineconeEnvKey",s),localStorage.setItem("pineconeEnvKey",s)},updateUseGpt4Key({commit:e},s){e("setUseGpt4Key",s),localStorage.setItem("useGpt4Key",s.toString())},addChatMessage({commit:e},s){e("addChatMessage",s)}},getters:{getPineconeApiKey(e){return e.pineconeApiKey},getOpenaiApiKey(e){return e.openaiApiKey},getPineconeEnvKey(e){return e.pineconeEnvKey},getUseGpt4Key(e){return e.useGpt4Key},getChatMessages(e){return e.chatMessages}}});const As=!1,Ss=As?"https://your-production-api-url.com":"http://localhost:5050",Is=(0,i.ri)(F);Is.config.globalProperties.$apiUrl=Ss,Is.use(Ds).use(Cs).mount("#app")}},s={};function t(i){var n=s[i];if(void 0!==n)return n.exports;var a=s[i]={exports:{}};return e[i](a,a.exports,t),a.exports}t.m=e,function(){var e=[];t.O=function(s,i,n,a){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],n=e[d][1],a=e[d][2];for(var l=!0,r=0;r<i.length;r++)(!1&a||o>=a)&&Object.keys(t.O).every((function(e){return t.O[e](i[r])}))?i.splice(r--,1):(l=!1,a<o&&(o=a));if(l){e.splice(d--,1);var c=n();void 0!==c&&(s=c)}}return s}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[i,n,a]}}(),function(){t.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(s,{a:s}),s}}(),function(){t.d=function(e,s){for(var i in s)t.o(s,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:s[i]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){t.p=""}(),function(){var e={143:0};t.O.j=function(s){return 0===e[s]};var s=function(s,i){var n,a,o=i[0],l=i[1],r=i[2],c=0;if(o.some((function(s){return 0!==e[s]}))){for(n in l)t.o(l,n)&&(t.m[n]=l[n]);if(r)var d=r(t)}for(s&&s(i);c<o.length;c++)a=o[c],t.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return t.O(d)},i=self["webpackChunkpinechat"]=self["webpackChunkpinechat"]||[];i.forEach(s.bind(null,0)),i.push=s.bind(null,i.push.bind(i))}();var i=t.O(void 0,[998],(function(){return t(1001)}));i=t.O(i)})();
//# sourceMappingURL=app.f33ffc8a.js.map